{"ast":null,"code":"import _regeneratorRuntime from\"D:/temp proj/spring-boot-react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"D:/temp proj/spring-boot-react/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"D:/temp proj/spring-boot-react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"D:/temp proj/spring-boot-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/temp proj/spring-boot-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/temp proj/spring-boot-react/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/temp proj/spring-boot-react/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/temp proj/spring-boot-react/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Button,ButtonGroup,Container,Table}from'reactstrap';import AppNavbar from'./AppNavbar';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ClientList=/*#__PURE__*/function(_Component){_inherits(ClientList,_Component);var _super=_createSuper(ClientList);function ClientList(props){var _this;_classCallCheck(this,ClientList);_this=_super.call(this,props);_this.state={clients:[]};_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(ClientList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/clients').then(function(response){return response.json();}).then(function(data){return _this2.setState({clients:data});});}},{key:\"remove\",value:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var _this3=this;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/clients/\".concat(id),{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(){var updatedClients=_toConsumableArray(_this3.state.clients).filter(function(i){return i.id!==id;});_this3.setState({clients:updatedClients});});case 2:case\"end\":return _context.stop();}}},_callee);}));function remove(_x){return _remove.apply(this,arguments);}return remove;}()},{key:\"render\",value:function render(){var _this4=this;var clients=this.state.clients;var clientList=clients.map(function(client){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{whiteSpace:'nowrap'},children:client.name}),/*#__PURE__*/_jsx(\"td\",{children:client.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"primary\",tag:Link,to:\"/clients/\"+client.id,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"danger\",onClick:function onClick(){return _this4.remove(client.id);},children:\"Delete\"})]})})]},client.id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",tag:Link,to:\"/clients/new\",children:\"Add Client\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Clients\"}),/*#__PURE__*/_jsxs(Table,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{width:\"40%\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:clientList})]})]})]});}}]);return ClientList;}(Component);export default ClientList;","map":{"version":3,"names":["React","Component","Button","ButtonGroup","Container","Table","AppNavbar","Link","ClientList","props","state","clients","remove","bind","fetch","then","response","json","data","setState","id","method","headers","updatedClients","filter","i","clientList","map","client","whiteSpace","name","email"],"sources":["D:/temp proj/spring-boot-react/frontend/src/ClientList.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport AppNavbar from './AppNavbar';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ClientList extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {clients: []};\r\n        this.remove = this.remove.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/clients')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({clients: data}));\r\n    }\r\n\r\n    async remove(id) {\r\n        await fetch(`/clients/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedClients = [...this.state.clients].filter(i => i.id !== id);\r\n            this.setState({clients: updatedClients});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {clients} = this.state;\r\n\r\n        const clientList = clients.map(client => {\r\n            return <tr key={client.id}>\r\n                <td style={{whiteSpace: 'nowrap'}}>{client.name}</td>\r\n                <td>{client.email}</td>\r\n                <td>\r\n                    <ButtonGroup>\r\n                        <Button size=\"sm\" color=\"primary\" tag={Link} to={\"/clients/\" + client.id}>Edit</Button>\r\n                        <Button size=\"sm\" color=\"danger\" onClick={() => this.remove(client.id)}>Delete</Button>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <AppNavbar/>\r\n                <Container fluid>\r\n                    <div className=\"float-right\">\r\n                        <Button color=\"success\" tag={Link} to=\"/clients/new\">Add Client</Button>\r\n                    </div>\r\n                    <h3>Clients</h3>\r\n                    <Table className=\"mt-4\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th width=\"30%\">Name</th>\r\n                            <th width=\"30%\">Email</th>\r\n                            <th width=\"40%\">Actions</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {clientList}\r\n                        </tbody>\r\n                    </Table>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ClientList;"],"mappings":"ggCAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAiBC,WAAjB,CAA8BC,SAA9B,CAAyCC,KAAzC,KAAsD,YAAtD,CACA,MAAOC,UAAP,KAAsB,aAAtB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,2FAEMC,W,wGAEF,oBAAYC,KAAZ,CAAmB,4CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAACC,OAAO,CAAE,EAAV,CAAb,CACA,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYC,IAAZ,+BAAd,CAHe,aAIlB,C,wDAED,4BAAoB,iBAChBC,KAAK,CAAC,UAAD,CAAL,CACKC,IADL,CACU,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAI,OAAI,CAACC,QAAL,CAAc,CAACR,OAAO,CAAEO,IAAV,CAAd,CAAJ,EAFd,EAGH,C,uGAED,iBAAaE,EAAb,0JACUN,MAAK,oBAAaM,EAAb,EAAmB,CAC1BC,MAAM,CAAE,QADkB,CAE1BC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFiB,CAAnB,CAAL,CAMHP,IANG,CAME,UAAM,CACV,GAAIQ,eAAc,CAAG,mBAAI,MAAI,CAACb,KAAL,CAAWC,OAAf,EAAwBa,MAAxB,CAA+B,SAAAC,CAAC,QAAIA,EAAC,CAACL,EAAF,GAASA,EAAb,EAAhC,CAArB,CACA,MAAI,CAACD,QAAL,CAAc,CAACR,OAAO,CAAEY,cAAV,CAAd,EACH,CATK,CADV,uD,oGAaA,iBAAS,iBACL,GAAOZ,QAAP,CAAkB,KAAKD,KAAvB,CAAOC,OAAP,CAEA,GAAMe,WAAU,CAAGf,OAAO,CAACgB,GAAR,CAAY,SAAAC,MAAM,CAAI,CACrC,mBAAO,mCACH,WAAI,KAAK,CAAE,CAACC,UAAU,CAAE,QAAb,CAAX,UAAoCD,MAAM,CAACE,IAA3C,EADG,cAEH,oBAAKF,MAAM,CAACG,KAAZ,EAFG,cAGH,iCACI,MAAC,WAAD,yBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,IAAb,CAAkB,KAAK,CAAC,SAAxB,CAAkC,GAAG,CAAExB,IAAvC,CAA6C,EAAE,CAAE,YAAcqB,MAAM,CAACR,EAAtE,kBADJ,cAEI,KAAC,MAAD,EAAQ,IAAI,CAAC,IAAb,CAAkB,KAAK,CAAC,QAAxB,CAAiC,OAAO,CAAE,yBAAM,OAAI,CAACR,MAAL,CAAYgB,MAAM,CAACR,EAAnB,CAAN,EAA1C,oBAFJ,GADJ,EAHG,GAASQ,MAAM,CAACR,EAAhB,CAAP,CAUH,CAXkB,CAAnB,CAaA,mBACI,oCACI,KAAC,SAAD,IADJ,cAEI,MAAC,SAAD,EAAW,KAAK,KAAhB,wBACI,YAAK,SAAS,CAAC,aAAf,uBACI,KAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,GAAG,CAAEb,IAA7B,CAAmC,EAAE,CAAC,cAAtC,wBADJ,EADJ,cAII,+BAJJ,cAKI,MAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,wBACI,oCACA,mCACI,WAAI,KAAK,CAAC,KAAV,kBADJ,cAEI,WAAI,KAAK,CAAC,KAAV,mBAFJ,cAGI,WAAI,KAAK,CAAC,KAAV,qBAHJ,GADA,EADJ,cAQI,uBACCmB,UADD,EARJ,GALJ,GAFJ,GADJ,CAuBH,C,wBAlEoBzB,S,EAqEzB,cAAeO,WAAf"},"metadata":{},"sourceType":"module"}